(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{732:function(e,t,r){"use strict";r.r(t);r(44);var n=r(5),o=(r(79),r(80),r(117),r(65),r(14),r(115)),c=r.n(o).a.create({headers:{"X-Requested-With":"XMLHttpRequest","content-type":"application/json;charset=utf-8"},withCredentials:!0,timeout:3e3,responseType:"json",onUploadProgress:function(e){console.log("上传事件进度",e)},onDownloadProgress:function(e){console.log("下载事件进度",e)},transformRequest:[function(data,e){return console.log("transformRequest",data),data}]});c.interceptors.request.use((function(e){return console.log("请求信息",e),e}),(function(e){return console.log("请求信息error",e),Promise.reject(e)})),c.interceptors.response.use((function(e){return console.log("响应数据response",e),e}),(function(e){switch(console.log("响应数据error",JSON.parse(JSON.stringify(e))),console.log("响应数据error.response",e.response),console.log("响应数据error.message",e.message),e.response.status){case 400:e.message="请求错误";break;case 401:e.message="未授权，请登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求地址出错";break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP版本不受支持"}return Promise.reject(e)}));var m=function(e,t,r){return new Promise(function(){var o=Object(n.a)(regeneratorRuntime.mark((function n(o,m){var data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c({methed:e,url:t,params:r});case 2:data=n.sent,n.prev=3,200===data.status?o(data):m(data.statusText),n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(3),console.log("错误信息",n.t0),n.abrupt("return",n.t0);case 11:case"end":return n.stop()}}),n,null,[[3,7]])})));return function(e,t){return o.apply(this,arguments)}}())},l={get:function(e,t){return m({methed:"get"},e,t)},post:function(e,t){return m({methed:"post"},{url:e},{params:t})},put:function(e,t){return m({methed:"put"},{url:e},{params:t})},del:function(e,t){return m({methed:"delete"},{url:e},{params:t})}};var d,f={data:function(){var e=this;return{activeValue:"",books:{columns:[{title:"Name",key:"book_name"},{title:"time",key:"add_time"}],data:[],bookName:"",addBook_Form:{name:""},addBook_FormRule:{name:[{required:!0,message:"请添加书名",trigger:"blur"},{type:"string",min:1,asyncValidator:function(t,r){return new Promise((function(t,n){var o=r.trim();e.books.addBook_Form.name=o,o&&o.length?t():n("请输入1到30位字符非空字符")}))}}]}},msg:{name:"",age:"",rule:{name:[{required:!0,message:"请输入名字",trigger:"blur"},{type:"string",asyncValidator:function(t,r){return new Promise((function(t,n){var o=r.trim();e.msg.name=o,o&&o.length?t():n("请输入1到10位字符非空字符")}))}}],age:[{required:!0,message:"请输入年龄",trigger:"blur"},{type:"number",asyncValidator:function(e,t){return new Promise((function(e,r){var n=t?t.toString().match(/^[1-9]\d{0,1}$|100$/gi):null;n&&n.length?e():r("请输入1到2位非0数字或者’100‘")}))}}]},print:""}}},methods:{showBooks:(d=Object(n.a)(regeneratorRuntime.mark((function e(){var t,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.get("/api/test/v1/show_books");case 2:t=e.sent,data=t.data,(r=t.status)&&200===r&&(this.books.data=data.list.map((function(e){return e.fields})));case 6:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)}),addBooks:function(e){var t=this;this.$refs[e].validate(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(n){var o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=8;break}return r.next=3,m=t.books.addBook_Form.name,l.get("/api/test/v1/add_book?book_name=".concat(m));case 3:o=r.sent,o.data,(c=o.status)&&200==c?(t.$Message.success("添加成功"),t.books.addBook_Form.name="",t.showBooks()):t.$Message.error("添加失败"),t.$refs[e].resetFields();case 8:case"end":return r.stop()}var m}),r)})));return function(e){return r.apply(this,arguments)}}())},addMsg:function(e){var t=this;this.$refs[e].validate(function(){var r=Object(n.a)(regeneratorRuntime.mark((function r(n){var o,data,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=8;break}return r.next=3,m={name:t.msg.name,age:t.msg.age},l.get("/api/test/v1/msg/".concat(m.name,"/").concat(m.age));case 3:o=r.sent,data=o.data,(c=o.status)&&200==c&&(t.msg.print=data.list),t.$refs[e].resetFields();case 8:case"end":return r.stop()}var m}),r)})));return function(e){return r.apply(this,arguments)}}())}},mounted:function(){this.showBooks()}},k=r(10),component=Object(k.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Collapse",{model:{value:e.activeValue,callback:function(t){e.activeValue=t},expression:"activeValue"}},[r("Panel",{attrs:{name:"1"}},[e._v("\n    python模块Book增删改查\n    "),r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[e._v("接口：’http://115.29.150.107:81/api/test/show_books‘")]),e._v(" "),r("p",[e._v("接口：’http://115.29.150.107:81/api/test/add_book‘")]),e._v(" "),r("Form",{ref:"addBookForm",attrs:{model:e.books.addBook_Form,rules:e.books.addBook_FormRule,inline:""}},[r("FormItem",{attrs:{prop:"name"}},[r("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入书名"},model:{value:e.books.addBook_Form.name,callback:function(t){e.$set(e.books.addBook_Form,"name",t)},expression:"books.addBook_Form.name"}}),e._v(" "),r("Button",{attrs:{type:"primary",icon:"ios-color-wand-outline"},on:{click:function(t){return e.addBooks("addBookForm")}}},[e._v("\n            确定添加\n          ")])],1)],1),e._v(" "),r("Table",{attrs:{columns:e.books.columns,height:"300",data:e.books.data}})],1)]),e._v(" "),r("Panel",{attrs:{name:"2"}},[e._v("\n    输入返回字符接口\n    "),r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[e._v("接口：’http://115.29.150.107:81/api/test/msg/名字/年龄‘")]),e._v(" "),r("Form",{ref:"msgForm",attrs:{model:e.msg,rules:e.msg.rule,inline:""}},[r("FormItem",{attrs:{prop:"name"}},[e._v("\n          你的名字"),r("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入名字"},model:{value:e.msg.name,callback:function(t){e.$set(e.msg,"name",t)},expression:"msg.name"}})],1),e._v(" "),r("FormItem",{attrs:{prop:"age"}},[e._v("\n          你的年龄"),r("Input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入年龄"},model:{value:e.msg.age,callback:function(t){e.$set(e.msg,"age",t)},expression:"msg.age"}})],1),e._v(" "),r("FormItem",[e._v("\n          "+e._s(this.msg.print)+"\n        ")])],1),e._v(" "),r("Button",{attrs:{type:"primary",icon:"ios-color-wand-outline"},on:{click:function(t){return e.addMsg("msgForm")}}},[e._v("\n        确定\n      ")])],1)])],1)}),[],!1,null,null,null);t.default=component.exports}}]);